# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é TechTariff Messenger

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥** (—Å—Ç–∞—Ç–∏–∫–∞ –≤ `public/`) ‚Üí Vercel
- **–ë—ç–∫–µ–Ω–¥** (Express + WebSocket) ‚Üí Railway

---

## –ß–∞—Å—Ç—å 1: –î–µ–ø–ª–æ–π –Ω–∞ Vercel (–§—Ä–æ–Ω—Ç–µ–Ω–¥)

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–¥–∞

–ü–µ—Ä–µ–¥ –ø—É—à–µ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- ‚úÖ –§–∞–π–ª `.env` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
- ‚úÖ –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –ù–ï –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω `.env.example` —Å —à–∞–±–ª–æ–Ω–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### –®–∞–≥ 2: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git init

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
git add .

# –ö–æ–º–º–∏—Ç
git commit -m "Initial commit: TechTariff Messenger v1.0"

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
git remote add origin https://github.com/wasaby/TechTariff.git

# –ü—É—à –Ω–∞ GitHub
git push -u origin main
```

### –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Vercel

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [vercel.com](https://vercel.com)
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ GitHub)
3. –ù–∞–∂–º–∏—Ç–µ **"Add New..."** ‚Üí **"Project"**
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π **wasaby/TechTariff**
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–µ–ø–ª–æ–π:

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------|
| Framework Preset | **Other** / **None** |
| Build Command | *(–æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º)* |
| Output Directory | `public` |
| Install Command | *(–æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º)* |

6. –ù–∞–∂–º–∏—Ç–µ **"Deploy"**

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Vercel

–í –ø–∞–Ω–µ–ª–∏ Vercel –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Environment Variables** –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```env
FRONTEND_URL=https://your-vercel-domain.vercel.app
API_URL=https://your-railway-domain.up.railway.app
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è Vercel –ø–æ–∫–∞–∂–µ—Ç URL:
- –§—Ä–æ–Ω—Ç–µ–Ω–¥: `https://techtariff.vercel.app`

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü.

---

## –ß–∞—Å—Ç—å 2: –î–µ–ø–ª–æ–π –Ω–∞ Railway (–ë—ç–∫–µ–Ω–¥)

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ Railway

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)
2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
3. –ù–∞–∂–º–∏—Ç–µ **"New Project"**

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

1. –í—ã–±–µ—Ä–∏—Ç–µ **"Deploy from GitHub repo"**
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π **wasaby/TechTariff**
3. –ù–∞–∂–º–∏—Ç–µ **"Deploy Now"**

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í –ø–∞–Ω–µ–ª–∏ Railway –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Variables** –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```env
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
NODE_ENV=production
PORT=3000

# JWT (–°–ì–ï–ù–ï–†–ò–†–£–ô–¢–ï –ù–û–í–´–ï!)
JWT_SECRET=your-super-secret-jwt-key-min-32-chars
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
SESSION_SECRET=your-session-secret-min-32-chars
BCRYPT_ROUNDS=10

# CORS (URL –≤–∞—à–µ–≥–æ Vercel —Å–∞–π—Ç–∞)
CORS_ORIGIN=https://techtariff.vercel.app

# –§—Ä–æ–Ω—Ç–µ–Ω–¥ URL
FRONTEND_URL=https://techtariff.vercel.app
API_URL=https://your-railway-app.up.railway.app
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã

–í Railway:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Deploy**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ **Start Command** = `npm start`
3. **Build Command** = `npm install`

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ API

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è Railway –ø–æ–∫–∞–∂–µ—Ç URL:
- API: `https://techtariff.up.railway.app`
- WebSocket: `wss://techtariff.up.railway.app`

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API:
```bash
curl https://techtariff.up.railway.app/api/health
```

---

## –ß–∞—Å—Ç—å 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ (API URL)

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ Railway –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

### –ù–∞ Vercel:

1. **Settings** ‚Üí **Environment Variables**
2. –û–±–Ω–æ–≤–∏—Ç–µ:
   ```
   API_URL=https://your-railway-app.up.railway.app
   FRONTEND_URL=https://your-vercel-domain.vercel.app
   ```

3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Deployments**
4. –ù–∞–∂–º–∏—Ç–µ **"Redeploy"** –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –¥–µ–ø–ª–æ–µ

---

## üîß –¢—Ä–∞–±–ª—à—É—Ç–∏–Ω–≥

### –ü—Ä–æ–±–ª–µ–º–∞: WebSocket –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°–∏–º–ø—Ç–æ–º**: –û—à–∏–±–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Railway –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç WebSocket (–Ω–µ –≤—Å–µ –ø–ª–∞–Ω—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL WebSocket –≤ –∫–ª–∏–µ–Ω—Ç–µ:
   ```javascript
   // –î–æ–ª–∂–µ–Ω –±—ã—Ç—å wss:// –∞ –Ω–µ ws://
   const ws = new WebSocket('wss://your-railway-app.up.railway.app/ws');
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∏

**–°–∏–º–ø—Ç–æ–º**: `Access to fetch... blocked by CORS policy`

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `CORS_ORIGIN` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è Railway
2. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ—á–Ω—ã–π URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–±–µ–∑ trailing slash):
   ```
   CORS_ORIGIN=https://techtariff.vercel.app
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: 404 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö (–∫—Ä–æ–º–µ –≥–ª–∞–≤–Ω–æ–π)

**–°–∏–º–ø—Ç–æ–º**: –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/messages` –ø–æ–ª—É—á–∞–µ–º 404

**–†–µ—à–µ–Ω–∏–µ**:
Vercel —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å rewrites –≤ `vercel.json`:
```json
{
  "rewrites": [
    { "source": "/(.*)", "destination": "/index.html" }
  ]
}
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞—è –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

**–°–∏–º–ø—Ç–æ–º**: SQLite –±–∞–∑–∞ –ø—É—Å—Ç–∞—è

**–†–µ—à–µ–Ω–∏–µ**:
1. SQLite —Ñ–∞–π–ª –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `.gitignore` –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –µ–≥–æ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
2. –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é/—Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º

- [ ] –ò–∑–º–µ–Ω–∏—Ç—å –≤—Å–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –∏ —Å–µ–∫—Ä–µ—Ç—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ Vercel –∏ Railway)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É WebSocket
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏
- [ ] –°–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- Vercel Docs: https://vercel.com/docs
- Railway Docs: https://docs.railway.app
- Node.js Deployment: https://railway.app/docs/deploying/node
